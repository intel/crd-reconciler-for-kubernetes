digraph SPStates {

    rankdir = LR;

    node [shape = point]; init;
    node [shape = ellipse];

    Error     [shape = doublecircle];
    Completed [shape = doublecircle];

    init -> Deploying;

    Deploying -> Deployed  [label = "deploy complete"];
    Deploying -> Error     [label = "deploy failed"];
    Deployed  -> Completed [label = "undeploy"];
    Deploying -> Completed [label = "undeploy"];
    Deployed  -> Error     [label = "errored"];
}
